import solutionWords from "../solutionWords.json" assert { type: "json" };
import { writeFileSync } from "node:fs";

// Convert each solution word into a u32 value

function toU32(word) {
  const charCodeForLowercaseA = 97;
  let res = 0;
  for (let i = 0; i < word.length; i++) {
    res = res * 26 + (word.charCodeAt(i) - charCodeForLowercaseA);
  }
  return res;
}

function toWordleWordNewtype(num) {
  return `WordleWord(${num})`;
}
const solutionWordsU32 = solutionWords.map(toU32).map(toWordleWordNewtype);

const outFileName = process.argv[2];
writeFileSync(outFileName,`\
//! Auto generated by make-solution-words.js
//! Do not edit.

use crate::WordleWord;

/// List of wordle solution words
pub const SOLUTION_WORDS: [WordleWord; ${solutionWords.length}] = [${solutionWordsU32}];
`
);
